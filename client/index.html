<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>Mini WP</title>

  <link type="text/css" rel="stylesheet" href="//unpkg.com/bootstrap/dist/css/bootstrap.min.css" />
  <link type="text/css" rel="stylesheet" href="//unpkg.com/bootstrap-vue@latest/dist/bootstrap-vue.min.css" />

  <link rel="stylesheet" href="./css/style.css">
  <link rel="stylesheet" href="./css/vueWysiwyg.css">

  <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.8.1/css/solid.css"
    integrity="sha384-QokYePQSOwpBDuhlHOsX0ymF6R/vLk/UQVz3WHa6wygxI5oGTmDTv8wahFOSspdm" crossorigin="anonymous">
  <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.8.1/css/brands.css"
    integrity="sha384-n9+6/aSqa9lBidZMRCQHTHKJscPq6NW4pCQBiMmHdUCvPN8ZOg2zJJTkC7WIezWv" crossorigin="anonymous">
  <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.8.1/css/fontawesome.css"
    integrity="sha384-vd1e11sR28tEK9YANUtpIOdjGW14pS87bUBuOIoBILVWLFnS+MCX9T6MMf0VdPGq" crossorigin="anonymous">

  <link href="https://fonts.googleapis.com/css?family=Indie+Flower" rel="stylesheet">
</head>

<body>
  <div id="app">
    <header>
      <b-navbar toggleable="lg" type="dark" class="css-bg-me">
        <b-navbar-brand id="mainLogo" href="#"><i class="fab fa-opencart"></i> Mw</b-navbar-brand>

        <b-navbar-toggle target="nav-collapse"></b-navbar-toggle>

        <b-collapse id="nav-collapse" is-nav>
          <b-navbar-nav>
            <b-nav-item href="#">Dashboard</b-nav-item>
          </b-navbar-nav>

          <!-- Right aligned nav items -->
          <b-navbar-nav class="ml-auto">
            <b-nav-form>
              <b-collapse id="searchBar">
                <b-form-input v-model="search" size="sm" class="mr-sm-2" placeholder="Search"></b-form-input>
              </b-collapse>
              <b-button v-b-toggle="'searchBar'" size="sm" class="my-2 my-sm-0" variant="outline-light"><i class="fas fa-search"></i></b-button>
            </b-nav-form>
          </b-navbar-nav>
        </b-collapse>
      </b-navbar>
    </header>

    <div class="container-fluid">
      <div class="row">
        <div id="menuList" class="css-menu-list col-sm-3">
          <br>
          <b-list-group>
            <b-list-group-item v-b-toggle="'createArticle'" v-on:click="emptyForm" class="css-bg-me css-w-100 css-fc-white" button><i
                class="fas fa-edit"></i> Write an article</b-list-group-item>
            <b-list-group-item v-b-toggle="'listArticle'" class="css-bg-me css-w-100 css-fc-white" button><i
                class="fas fa-book-open"></i> List of articles</b-list-group-item>
          </b-list-group>
          <b-collapse id="listArticle">
            <b-card>
              <b-list-group>
                <b-list-group-item v-for="article in filtered" v-b-toggle="`viewArticle-${article.id}`" button>{{ article.title }}
                </b-list-group-item>
              </b-list-group>
            </b-card>
          </b-collapse>
          <br>
        </div>
        <div id="preview" class="col-sm">
          <br>
          <!-- <div v-if="notification.status">
            <b-alert v-if="notification.success" v-model="showDismissibleAlert" variant="success" dismissible>
              {{ notification.message }}
            </b-alert>
            <br>
            <b-alert v-else v-model="showDismissibleAlert" variant="danger" dismissible>
              {{ notification.message }}
            </b-alert>
          </div>
          <br> -->
          <b-collapse id="createArticle" accordion="my-accordion" class="mt-2">
            <b-card>
              <form method="POST" v-on:submit.prevent="addArticle">
                <div class="form-group">
                  <label for="inputTitle">Title</label>
                  <input v-model="title" type="text" class="form-control" id="inputTitle"
                    placeholder="Write article title...">
                </div>
                <div class="form-group">
                  <label for="exampleFormControlTextarea1">Article</label>
                  <wysiwyg v-model="contain" />
                </div>
                <b-button type="submit" v-b-toggle="'createArticle'" variant="success">Post</b-button>
              </form>
            </b-card>
          </b-collapse>
          <br>
          <b-collapse id="editArticle" accordion="my-accordion" class="mt-2">
            <b-card>
              <form method="POST" v-on:submit.prevent="updateArticle">
                <div class="form-group">
                  <label for="inputTitle">Title</label>
                  <input v-model="title" type="text" class="form-control" id="inputTitle"
                    placeholder="Write article title...">
                </div>
                <div class="form-group">
                  <label for="exampleFormControlTextarea1">Article</label>
                  <wysiwyg v-model="contain" />
                </div>
                <b-button type="submit" v-b-toggle="'editArticle'" variant="success">Save</b-button>
              </form>
            </b-card>
          </b-collapse>
          <br>
          <b-collapse v-for="article in filtered" v-bind:id="`viewArticle-${article.id}`" accordion="my-accordion" class="mt-2">
            <b-card>
              <h1>{{ article.title }}</h1>
              <p>{{ article.createdAt }}</p>
              <p>{{ article.contain }}</p>
              <b-button v-b-toggle="'editArticle'" variant="outline-primary" v-on:click="editArticle(article.id)">Edit</b-button>
              <b-button v-b-toggle="`viewArticle-${article.id}`" variant="danger" v-on:click="deleteArticle(article.id)">Delete</b-button>
              <br>
            </b-card>
          </b-collapse>
          <br>
        </div>
      </div>
    </div>

    <footer>
      <div class="css-bg-me css-center">
        <a id="mainLogoDown" href="#"><i class="fab fa-opencart"></i> Mw</a>
        <br>
        <span id="copyright">&#169; 2019 MiniWordpress by Muhammad Ramadhoni</span>
      </div>
    </footer>
  </div>


  <script src="https://unpkg.com/axios/dist/axios.min.js"></script>
  <!-- <script src="https://cdn.jsdelivr.net/npm/vue/dist/vue.js"></script> -->
  <script src="//unpkg.com/@babel/polyfill@latest/dist/polyfill.min.js"></script>
  <!-- <script src="//unpkg.com/vue@latest/dist/vue.min.js"></script> -->
  <script src="https://cdn.jsdelivr.net/npm/vue/dist/vue.js"></script>
  <script src="//unpkg.com/bootstrap-vue@latest/dist/bootstrap-vue.min.js"></script>

  <script src="./script/vueWysiwyg.js"></script>

  <script src="./script/script.js"></script>
</body>

</html>